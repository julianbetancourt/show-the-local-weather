$.getJSON("http://ip-api.com/json",function(a){var d,t,s,n,o=a.lat,e=a.lon,i=a.countryCode,r=a.city;$.getJSON("http://api.openweathermap.org/data/2.5/weather?lat="+o+"&lon="+e+"&APPID=da362a8aa3d1448a36245341e0d8a196",function(a){function o(a){return"K"===s?t=1.8*a-459.67:"C"===s&&(t=1.8*a+32),Math.round(t)}function e(a){return"K"===s?t=a-273.15:"F"===s&&(t=(a-32)*(5/9)),Math.round(t)}function l(a){a.length>9?$(".city").addClass("fixed-city").text(a):$(".city").text(a)}function c(){"US"===i||"BS"===i||"BZ"===i||"KY"===i||"PW"===i?($(".number").text(o(t)),s="F",$(".unit span").text("ºF")):($(".number").text(e(t)),s="C",$(".unit span").text("ºC"))}function w(a){a>=200&&232>=a?$(".weather-icon").addClass("wi-thunderstorm"):a>=300&&321>=a?$(".weather-icon").addClass("wi-raindrops"):a>=500&&531>=a?$(".weather-icon").addClass("wi-rain"):a>=600&&622>=a?$(".weather-icon").addClass("wi-snowflake-cold"):a>=701&&781>=a?$(".weather-icon").addClass("wi-fog"):800===a?$(".weather-icon").addClass("wi-day-sunny"):a>=801&&804>=a?$(".weather-icon").addClass("wi-cloudy"):900===a?$(".weather-icon").addClass("wi-tornado"):901===a?$(".weather-icon").addClass("wi-storm-showers"):902===a?$(".weather-icon").addClass("wi-hurricane"):903===a?$(".weather-icon").addClass("wi-strong-wind"):904===a?$(".weather-icon").addClass("wi-hot"):905===a?$(".weather-icon").addClass("wi-cloudy-windy"):906===a&&$(".weather-icon").addClass("wi-hail")}function C(a){a>=200&&232>=a?$("body").addClass("storm"):a>=300&&321>=a?$("body").addClass("raindrop"):a>=500&&531>=a?$("body").addClass("rain"):a>=600&&622>=a?$("body").addClass("snow"):a>=701&&781>=a?$("body").addClass("mist"):800===a?$("body").addClass("sunny"):a>=801&&804>=a?$("body").addClass("clouds"):900===a?$("body").addClass("tornado"):901===a?$("body").addClass("storm"):902===a?$("body").addClass("storm"):903===a?$("body").addClass("clouds"):904===a?$("body").addClass("sunny"):906===a&&$("body").addClass("rain")}d=a.weather[0].description,t=a.main.temp,s="K",n=a.weather[0].id,$(".unit").on("click",function(){"C"===s?($(".unit span").text("ºF"),$(".number").text(o(t)),s="F"):"F"===s&&($(".unit span").text("ºC"),$(".number").text(e(t)),s="C")}),$(".desc span").text(d),l(r),c(),w(n),C(n)})});
